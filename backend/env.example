# Server Configuration
PORT=5000
NODE_ENV=development

# MongoDB Configuration
MONGO_URI=mongodb://localhost:27017/school-management

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRE=7d

# Super Admin Configuration
# Super Admin is auto-created on server startup if not exists
# Only ONE Super Admin is allowed in the system
SUPER_ADMIN_EMAIL=admin@schoolsystem.com
SUPER_ADMIN_PASSWORD=change_this_secure_password
SUPER_ADMIN_NAME=Super Administrator

# Cloudinary Configuration (for media uploads)
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# Email Configuration (for OTP verification and password reset)
# For Gmail: Use App Password (not regular password)
# Generate App Password: https://myaccount.google.com/apppasswords
EMAIL_USER=your_email@gmail.com
EMAIL_APP_PASSWORD=your_gmail_app_password
EMAIL_FROM_NAME=School Management System

# Example MongoDB Atlas URI (if using cloud)
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/school-management?retryWrites=true&w=majority

# Web Push Notifications (VAPID Keys)
# Generate VAPID keys using: npx web-push generate-vapid-keys
# Or use online tool: https://web-push-codelab.glitch.me/
VAPID_PUBLIC_KEY=your_vapid_public_key_here
VAPID_PRIVATE_KEY=your_vapid_private_key_here
VAPID_EMAIL=mailto:your-email@example.com

# Optional: Explicit SMTP configuration (recommended for production)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false # true for port 465 (TLS)
SMTP_USER=smtp-user@example.com
SMTP_PASS=your_smtp_password
SMTP_POOL=true
SMTP_MAX_CONN=5
SMTP_TLS_REJECT_UNAUTHORIZED=true

# Client URLs (comma separated). Example: https://your-frontend.com,http://localhost:3000
CLIENT_URLS=https://your-frontend.com,http://localhost:3000

# Optional: Force websocket-only transport for Socket.IO
# FORCE_WEBSOCKET=false

# AI / OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
AI_MODEL=gpt-4o-mini
AI_TEMPERATURE=0.7

# Risk detection thresholds
RISK_ATTENDANCE_THRESHOLD=75
RISK_MARKS_DECLINE_THRESHOLD=10

# Image generation settings
# Timeout in milliseconds for image generation requests
AI_IMAGE_TIMEOUT=180000
# Number of retries on transient failures (429, 499, 5xx)
AI_IMAGE_RETRIES=2
